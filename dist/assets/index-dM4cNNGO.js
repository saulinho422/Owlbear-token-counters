(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const M="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23007ACC'%20d='M0%20128v128h256V0H0z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='m56.612%20128.85l-.081%2010.483h33.32v94.68h23.568v-94.68h33.321v-10.28c0-5.69-.122-10.444-.284-10.566c-.122-.162-20.4-.244-44.983-.203l-44.74.122l-.121%2010.443Zm149.955-10.742c6.501%201.625%2011.459%204.51%2016.01%209.224c2.357%202.52%205.851%207.111%206.136%208.208c.08.325-11.053%207.802-17.798%2011.988c-.244.162-1.22-.894-2.317-2.52c-3.291-4.795-6.745-6.867-12.028-7.233c-7.76-.528-12.759%203.535-12.718%2010.321c0%201.992.284%203.17%201.097%204.795c1.707%203.536%204.876%205.649%2014.832%209.956c18.326%207.883%2026.168%2013.084%2031.045%2020.48c5.445%208.249%206.664%2021.415%202.966%2031.208c-4.063%2010.646-14.14%2017.879-28.323%2020.276c-4.388.772-14.79.65-19.504-.203c-10.28-1.828-20.033-6.908-26.047-13.572c-2.357-2.6-6.949-9.387-6.664-9.874c.122-.163%201.178-.813%202.356-1.504c1.138-.65%205.446-3.129%209.509-5.485l7.355-4.267l1.544%202.276c2.154%203.29%206.867%207.801%209.712%209.305c8.167%204.307%2019.383%203.698%2024.909-1.26c2.357-2.153%203.332-4.388%203.332-7.68c0-2.966-.366-4.266-1.91-6.501c-1.99-2.845-6.054-5.242-17.595-10.24c-13.206-5.69-18.895-9.224-24.096-14.832c-3.007-3.25-5.852-8.452-7.03-12.8c-.975-3.617-1.22-12.678-.447-16.335c2.723-12.76%2012.353-21.659%2026.25-24.3c4.51-.853%2014.994-.528%2019.424.569Z'%3e%3c/path%3e%3c/svg%3e",$="/vite.svg";function P(t){let e=0;const o=l=>{e=l,t.innerHTML=`count is ${e}`};t.addEventListener("click",()=>o(e+1)),o(0)}function d(t,e){if(e.innerHTML="",t.type==="fraction"&&t.max!==void 0){const l=document.createElement("div");l.className="token-counter-bar",l.style.background=t.color,l.style.width=`${t.value/t.max*100}%`,e.appendChild(l)}const o=document.createElement("div");o.className="token-counter-number",o.textContent=t.type==="fraction"&&t.max!==void 0?`${t.value}/${t.max}`:`${t.value}`,o.style.background=t.color,e.appendChild(o)}const y=window.owbear||window.Owlbear||{};function O(){return y.tokens?.getSelected?.()[0]?.id||null}function W(t){const e=y.tokens?.getData?.(t);return e&&Array.isArray(e.tokenCounters)?e.tokenCounters:e&&e.tokenCounter?[e.tokenCounter]:[]}function u(t,e){y.tokens?.setData?.(t,{tokenCounters:e})}function C(t){let e=O();if(!e)return;let o=W(e);o.length===0&&(o=[{id:"vida",type:"fraction",value:10,max:10,color:"#4caf50",visibleToPlayers:!0}]),o.forEach((n,i)=>{const a=document.createElement("div");a.className="token-counter-container",d(n,a),t.appendChild(a);const c=document.createElement("div");c.style.margin="8px 0",c.style.display="flex",c.style.gap="8px";const r=document.createElement("label");r.textContent="Visível aos jogadores";const m=document.createElement("input");m.type="checkbox",m.checked=n.visibleToPlayers,m.addEventListener("change",()=>{n.visibleToPlayers=m.checked,u(e,o),d(n,a)}),r.appendChild(m),c.appendChild(r);const x=document.createElement("label");x.textContent="Cor:";const v=document.createElement("input");v.type="color",v.value=n.color,v.addEventListener("input",()=>{n.color=v.value,u(e,o),d(n,a)}),x.appendChild(v),c.appendChild(x);const b=document.createElement("label");b.textContent="Tipo:";const p=document.createElement("select"),k=document.createElement("option");k.value="simple",k.textContent="Simples";const E=document.createElement("option");E.value="fraction",E.textContent="Fração",p.appendChild(k),p.appendChild(E),p.value=n.type,p.addEventListener("change",()=>{n.type=p.value,u(e,o),d(n,a)}),b.appendChild(p),c.appendChild(b);const s=document.createElement("input");if(s.type="text",s.placeholder="Ex: -1/0, +2/+0, 5/10",s.style.marginLeft="8px",s.addEventListener("keydown",h=>{if(h.key==="Enter"){const S=s.value.trim();if(/^[+-]?\d+\/?[+-]?\d*$/.test(S)){let[g,f]=S.split("/"),w=n.value,L=n.max??0;g.startsWith("+")||g.startsWith("-")?w+=parseInt(g,10):w=parseInt(g,10),f&&(f.startsWith("+")||f.startsWith("-")?L+=parseInt(f,10):L=parseInt(f,10)),n.value=w,n.max=L,u(e,o),d(n,a),s.value=""}}}),c.appendChild(s),o.length>1){const h=document.createElement("button");h.textContent="Remover",h.onclick=()=>{o.splice(i,1),u(e,o),t.innerHTML="",C(t)},c.appendChild(h)}t.appendChild(c)});const l=document.createElement("button");l.textContent="Adicionar contador",l.onclick=()=>{o.push({id:`contador${o.length+1}`,type:"simple",value:0,color:"#2196f3",visibleToPlayers:!0}),u(e,o),t.innerHTML="",C(t)},t.appendChild(l),y.tokens?.onSelectionChange&&y.tokens.onSelectionChange(()=>{t.innerHTML="",C(t)})}const I=document.querySelector("#app");I&&C(I);document.querySelector("#app").innerHTML=`
  <div>
    <a href="https://vite.dev" target="_blank">
      <img src="${$}" class="logo" alt="Vite logo" />
    </a>
    <a href="https://www.typescriptlang.org/" target="_blank">
      <img src="${M}" class="logo vanilla" alt="TypeScript logo" />
    </a>
    <h1>Vite + TypeScript</h1>
    <div class="card">
      <button id="counter" type="button"></button>
    </div>
    <p class="read-the-docs">
      Click on the Vite and TypeScript logos to learn more
    </p>
  </div>
`;P(document.querySelector("#counter"));const T=document.querySelector("#app");if(T){const t=document.createElement("div");t.className="token-counter-container",T.appendChild(t);let e={id:"vida",type:"fraction",value:11,max:11,color:"#4caf50",visibleToPlayers:!0};d(e,t);const o=document.createElement("input");o.type="text",o.placeholder="Ex: -10/11, +10/+10, 5/10",o.style.marginTop="8px",T.appendChild(o),o.addEventListener("keydown",l=>{if(l.key==="Enter"){const n=o.value.trim();if(/^[+-]?\d+\/?[+-]?\d*$/.test(n)){let[i,a]=n.split("/"),c=e.value,r=e.max??0;i.startsWith("+")||i.startsWith("-")?c+=parseInt(i,10):c=parseInt(i,10),a&&(a.startsWith("+")||a.startsWith("-")?r+=parseInt(a,10):r=parseInt(a,10)),e={...e,value:c,max:r},d(e,t),o.value=""}}})}
